<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script>
	//AJAX(Asynchronous JavaScript and XML)
	//비동기화 방식으로 통신
	// 통신을 담당하는 객체 : XMLHttpRequest 객체
	
	let xhr = null;
	//XMLHttpRequest 객체얻어오는 함수
	function getXMLHttpRequest(){
		//MS 브라우저의 경우
		if(window.ActiveObject){
			try{
				return new ActiveObject("MsXML2.XMLHttp")	;
			}catch(e){
				try{
					return new ActiveObject("Microsoft.XMLHttp");	
				}catch(e){
					null;
				}
				
			}
			
		}else if(window.XMLHttpRequest){
			//그 외 브라우저라면
			return new XMLHttpRequest();
		}else{
			//어떤 브라우저인지 모르겠음
			return null;
		}
		
	}
	
	function load(url){
		/* console.log(url); */
		// 1. 통신객체(XMLHttpRequest) 객체 얻어오기
		xhr = getXMLHttpRequest();
		console.log(xhr);
	}
	
</script>
</head>
<body>
	<!--
		AJAX(Asynchronous JavaScript and XML)
		: 자바스크립트를 통해서 서버에 데이터를 요청하는것
		: 리로드를 하지 않고 데이터를 불러오는 방식 
	 -->
	 <input type="button" value="simple1.txt" onclick="load('simple1.txt')" />
	 <input type="button" value="simple2.jsp" onclick="load()" />
	 <input type="button" value="simple1.txt" onclick="load()" />
	 <input type="button" value="simple2.jsp" onclick="load()" />
	 
	 <div id="div1">
	 	<!-- 서버에 가져온 글자를 출력 -->
	 </div>	
</body>
</html>